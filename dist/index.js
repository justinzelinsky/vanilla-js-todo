const EXISTING_TODO_LIST_KEY="existingTodoListKey",getSavedTodoItems=()=>JSON.parse(localStorage.getItem(EXISTING_TODO_LIST_KEY))||[];document.addEventListener("DOMContentLoaded",()=>{const a=document.querySelector(".todo-add button"),b=document.querySelector(".todo-add input"),c=document.querySelector(".todo-list"),d=a=>{const b=c.childElementCount,d=document.createElement("span");d.innerText=a;const f=document.createElement("button");f.innerText="Remove",f.addEventListener("click",function(){e(b)});const g=document.createElement("li");g.setAttribute("data-index",b),g.appendChild(d),g.appendChild(f),c.appendChild(g);const h=getSavedTodoItems();h.push({todoTask:a,index:b}),localStorage.setItem(EXISTING_TODO_LIST_KEY,JSON.stringify(h))},e=a=>{const b=c.querySelector(`li[data-index="${a}"]`);b.remove();const d=getSavedTodoItems(),e=d.filter(b=>b.index!==a);localStorage.setItem(EXISTING_TODO_LIST_KEY,JSON.stringify(e))};a.addEventListener("click",()=>{const{value:a}=b;b.value="",d(a)}),b.addEventListener("keypress",a=>{if(13===a.keyCode){const{value:a}=b;b.value="",d(a)}});const f=getSavedTodoItems();if(f){const a=[];f.forEach((b,c)=>{const{todoTask:e}=b;d(e),a.push({todoTask:e,index:c})}),localStorage.setItem(EXISTING_TODO_LIST_KEY,JSON.stringify(a))}});